import numpy as np

print('Welcome to the Monty Hall show! \nWaiting behind one of these doors is a BRAND. NEW. CAR!!!! \nUnfurtunately, the other doors only contain goats. And you don\'t want a goat. \n\nFirst, you\'ll pick a door. Then I\'ll open a door revealing a goat. Then, you\'ll have the opportunity to switch doors if you want. \n\nTraditionally the game is played with 3 doors, but you can play with up to 100 doors.')

#how many doors to play with
doors = None
while doors not in range(3, 101):
    print('\nHow many doors do you want to play with? Enter an integer from 3 to 100.')
    doors = int(input())
    if doors not in range(3,101):
        print('That\'s not an option.')
valid_doors = list(range(1, doors+1))

#set prize door
prize = np.random.randint(1, doors+1)

#Select initial guess
guess = None
while guess not in range(1,doors+1):
    print("\nFor your initial guess at the car, please select a door from 1 to", str(doors)+".")
    guess = int(input())
print('\nYou picked door', str(guess)+".")

#reveal goat
revealed = int(np.random.choice([i for i in range(1,doors+1) if i not in {guess, prize}]))
print('\nI reveal a goat behind door', str(revealed)+'.')

available_doors = list(set(valid_doors)-{guess, revealed})

#switch or not
answer = None 
while answer not in ("yes", "no"): 
    answer = input("\nWould you like to switch doors? Enter yes or no: ") 
    if answer == "yes": 
        if doors == 3:
            new_guess = available_doors[0]
            print('\nOk. Switching to door', str(new_guess)+".")
        else:
            new_guess = None
            while new_guess not in (available_doors): 
                print("\nPlease select a valid new door. Enter an integer from 1 to",  doors, 'that isn\'t door', revealed, 'or', str(guess)+".")
                new_guess = int(input())
            print('\nOk. Switching to door', str(new_guess)+".")
    elif answer == "no": 
        new_guess = guess
        print("\nOk. Staying with door", str(guess)+".")
    else: 
        print("Please enter yes or no.")

#results
if new_guess == prize:
    print('\nThe prize was behind door', prize, 'and that\'s the one you picked! Nice Job!!')
else:
    print('\nThe prize was behind door', prize, 'but you picked door', str(new_guess) +'.', 'Better luck next time...')
